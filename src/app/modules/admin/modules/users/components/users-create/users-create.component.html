<div class="container">
  <div class="row mt-5 mb-5">
    <div class="col-xl-12 mb-xl-0">
      <div class="card shadow">
        <ng-container *ngIf="form">
          <mat-horizontal-stepper [linear]="true" #stepper style="position: relative">

            <mat-step [stepControl]="form.controls.user">
              <form [formGroup]="form.controls.user">
                <ng-template matStepLabel>Dados do Usuário</ng-template>

                <mat-form-field appearance="outline">
                  <mat-label>Nome</mat-label>
                  <input type="text" matInput placeholder="Nome do usuário" formControlName="name">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Email</mat-label>
                  <input type="email" matInput placeholder="Email do usuário" formControlName="email">
                  <mat-icon matSuffix>email</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Senha</mat-label>
                  <input type="password" matInput placeholder="Senha do usuário" formControlName="password">
                  <mat-icon matSuffix>email</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Tipo do usuário</mat-label>
                  <mat-select matInput formControlName="type">
                    <mat-option value="distributor">
                      Distribuidor
                    </mat-option>
                    <mat-option value="factory">
                      Fabricante
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <div class="d-flex justify-content-end">
                  <button mat-button matStepperNext>Avançar</button>
                </div>

              </form>
            </mat-step>

            <mat-step [stepControl]="form.controls.company">
              <form [formGroup]="form.controls.company">
                <ng-template matStepLabel>Dados da Companhia</ng-template>

                <mat-form-field appearance="outline">
                  <mat-label>Razão Social</mat-label>
                  <input type="text" matInput placeholder="Razão Social da companhia" formControlName="name">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Nome Fantasia</mat-label>
                  <input type="text" matInput placeholder="Nome Fantasia da companhia" formControlName="trade_name">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Telefone</mat-label>
                  <input type="text" matInput placeholder="Telefone da companhia" formControlName="phone_number">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>CNPJ</mat-label>
                  <input type="text" matInput placeholder="CNPJ da companhia" formControlName="registration_code">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <div class="d-flex justify-content-between">
                  <button mat-button matStepperPrevious>Voltar</button>
                  <button mat-button matStepperNext>Avançar</button>
                </div>
              </form>
            </mat-step>

            <mat-step [stepControl]="form.controls.address">
              <form [formGroup]="form.controls.address">
                <ng-template matStepLabel>Dados do Endereço</ng-template>

                <mat-form-field appearance="outline">
                  <mat-label>CEP</mat-label>
                  <input type="text" matInput placeholder="CEP" formControlName="postal_code">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Rua</mat-label>
                  <input type="text" matInput placeholder="Nome Fantasia da companhia" formControlName="street">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Número</mat-label>
                  <input type="text" matInput placeholder="Número" formControlName="number">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Complemento</mat-label>
                  <input type="text" matInput placeholder="Complemento" formControlName="complement">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Bairro</mat-label>
                  <input type="text" matInput placeholder="Bairro" formControlName="neighborhood">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Cidade</mat-label>
                  <input type="text" matInput placeholder="Cidade" formControlName="city">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Estado</mat-label>
                  <input type="text" matInput placeholder="Estado" formControlName="state">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>País</mat-label>
                  <input type="text" matInput placeholder="País" formControlName="country">
                  <mat-icon matSuffix>perm_identity</mat-icon>
                  <!-- <mat-hint>Hint</mat-hint> -->
                </mat-form-field>

                <div class="d-flex justify-content-between">
                  <button mat-button matStepperPrevious>Voltar</button>
                  <button mat-button (click)="send()">Finalizar</button>
                </div>

                <app-loading [loading]="loading"></app-loading>

              </form>
            </mat-step>

          </mat-horizontal-stepper>
        </ng-container>
      </div>
    </div>
  </div>
</div>